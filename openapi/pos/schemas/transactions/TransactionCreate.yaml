type: object
description: 取引作成リクエスト
properties:
  storeId:
    type: integer
    format: int64
    description: 店舗ID
  terminalId:
    type: integer
    format: int64
    description: 端末ID
  customerId:
    type: integer
    format: int64
    description: 会員ID
    nullable: true
  staffId:
    type: integer
    format: int64
    description: スタッフID
    nullable: true
  transactionDateTime:
    type: string
    format: date-time
    description: 取引日時
  totalAmount:
    type: number
    format: double
    description: 合計金額
  taxIncludedAmount:
    type: number
    format: double
    description: 内税額
  taxExcludedAmount:
    type: number
    format: double
    description: 外税額
  subtotalAmount:
    type: number
    format: double
    description: 小計金額
  paymentAmount:
    type: number
    format: double
    description: 支払金額
  changeAmount:
    type: number
    format: double
    description: お釣り金額
  pointAmount:
    type: number
    format: double
    description: ポイント使用額
    nullable: true
  paymentType:
    type: integer
    description: |-
      支払種別
      * 1: 現金
      * 2: クレジットカード
      * 3: 電子マネー
      * 4: 商品券
      * 5: 複合決済
      * 6: その他
  status:
    type: integer
    description: |-
      取引ステータス
      * 1: 会計済
      * 2: 返品
      * 3: 取消
  receiptNo:
    type: string
    description: レシート番号
  receiptText:
    type: string
    description: レシートテキスト
    nullable: true
  memo:
    type: string
    description: メモ
    nullable: true
  details:
    type: array
    description: 取引詳細
    items:
      type: object
      properties:
        productId:
          type: integer
          format: int64
          description: 商品ID
          nullable: true
        productCode:
          type: string
          description: 商品コード
          nullable: true
        productName:
          type: string
          description: 商品名
        categoryId:
          type: integer
          format: int64
          description: 部門ID
          nullable: true
        price:
          type: number
          format: double
          description: 単価
        quantity:
          type: number
          format: double
          description: 数量
        unitDiscountAmount:
          type: number
          format: double
          description: 単品値引額
          nullable: true
        unitDiscountRate:
          type: number
          format: double
          description: 単品値引率
          nullable: true
        unitDiscountType:
          type: integer
          description: |-
            単品値引種別
            * 1: 金額値引
            * 2: 率値引
          nullable: true
        subtotalAmount:
          type: number
          format: double
          description: 小計金額
        taxRate:
          type: number
          format: double
          description: 税率
        taxType:
          type: integer
          description: |-
            税種別
            * 1: 内税
            * 2: 外税
        detailType:
          type: integer
          description: |-
            明細種別
            * 1: 通常商品
            * 2: セット親商品
            * 3: セット子商品
            * 4: 返品親明細
            * 5: 返品子明細
            * 6: 訂正明細
            * 7: 取引値引
            * 8: 小計値引
            * 9: 小計割引
            * 10: クーポン明細
      required:
        - productName
        - price
        - quantity
        - subtotalAmount
        - taxRate
        - taxType
        - detailType
  payments:
    type: array
    description: 支払明細
    items:
      type: object
      properties:
        paymentMethodId:
          type: integer
          format: int64
          description: 支払方法ID
        paymentMethodName:
          type: string
          description: 支払方法名
        amount:
          type: number
          format: double
          description: 支払金額
        paymentNo:
          type: string
          description: 決済番号
          nullable: true
        cardCompanyId:
          type: integer
          format: int64
          description: カード会社ID
          nullable: true
        cardCompanyName:
          type: string
          description: カード会社名
          nullable: true
      required:
        - paymentMethodId
        - paymentMethodName
        - amount
required:
  - storeId
  - terminalId
  - transactionDateTime
  - totalAmount
  - taxIncludedAmount
  - taxExcludedAmount
  - subtotalAmount
  - paymentAmount
  - changeAmount
  - paymentType
  - status
  - receiptNo
  - details
  - payments
